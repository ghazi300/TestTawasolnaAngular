<h1 mat-dialog-title>Add Cultural Program</h1>

<form [formGroup]="programForm">
    <div mat-dialog-content>
        <mat-form-field appearance="fill">
            <mat-label>Title</mat-label>
            <input matInput formControlName="name">
            <mat-error *ngIf="programForm.get('name')?.hasError('required')">
                Title is required
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description"></textarea>
            <mat-error *ngIf="programForm.get('description')?.hasError('required')">
                Description is required
            </mat-error>
            <mat-error *ngIf="programForm.get('description')?.hasError('maxLength')">
                Description cannot exceed 500 characters
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Start Date</mat-label>
            <input matInput [matDatepicker]="startPicker" formControlName="startDate">
            <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
            <mat-datepicker #startPicker></mat-datepicker>
            <mat-error *ngIf="programForm.get('startDate')?.hasError('required')">
                Start date is required
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>End Date</mat-label>
            <input matInput [matDatepicker]="endPicker" formControlName="endDate">
            <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
            <mat-datepicker #endPicker></mat-datepicker>
            <mat-error *ngIf="programForm.get('endDate')?.hasError('required')">
                End date is required
            </mat-error>
            <mat-error *ngIf="programForm.get('endDate')?.hasError('endDateInvalid')">
                End date cannot be earlier than start date
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Location</mat-label>
            <input matInput formControlName="location">
            <mat-error *ngIf="programForm.get('location')?.hasError('required')">
                Location is required
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Coordinator</mat-label>
            <input matInput formControlName="coordinator">
            <mat-error *ngIf="programForm.get('coordinator')?.hasError('required')">
                Coordinator is required
            </mat-error>
        </mat-form-field>
    </div>

    <div mat-dialog-actions>
        <button mat-button (click)="onNoClick()">Cancel</button>
        <button mat-button [disabled]="programForm.invalid" (click)="save()">Save</button>
    </div>
</form>
